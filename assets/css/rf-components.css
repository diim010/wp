/**
 * RFPlugin Corporate Components Library
 *
 * Полностью инкапсулированные компоненты с BEM нотацией.
 * Все компоненты используют префикс rf-corp- для изоляции.
 *
 * @package RFPlugin
 * @version 2.0.0
 */

/* ============================================
   BASE RESET (Scoped)
   ============================================ */
[class*="rf-corp-"],
[class*="rf-corp-"] * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

[class*="rf-corp-"] {
    font-family: var(--rf-corp-font-sans);
    color: var(--rf-corp-text);
    line-height: var(--rf-corp-leading-normal);
}

/* ============================================
   LAYOUT COMPONENTS
   ============================================ */

/* Container */
.rf-corp-container {
    width: 100%;
    max-width: var(--rf-corp-container-7xl);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--rf-corp-space-6);
    padding-right: var(--rf-corp-space-6);
}

.rf-corp-container--sm { max-width: var(--rf-corp-container-3xl); }
.rf-corp-container--md { max-width: var(--rf-corp-container-5xl); }
.rf-corp-container--lg { max-width: var(--rf-corp-container-6xl); }
.rf-corp-container--full { max-width: 100%; }

/* Section */
.rf-corp-section {
    padding-top: var(--rf-corp-space-16);
    padding-bottom: var(--rf-corp-space-16);
}

.rf-corp-section--sm {
    padding-top: var(--rf-corp-space-8);
    padding-bottom: var(--rf-corp-space-8);
}

.rf-corp-section--lg {
    padding-top: var(--rf-corp-space-24);
    padding-bottom: var(--rf-corp-space-24);
}

/* Grid */
.rf-corp-grid {
    display: grid;
    gap: var(--rf-corp-space-6);
}

.rf-corp-grid--2 { grid-template-columns: repeat(2, 1fr); }
.rf-corp-grid--3 { grid-template-columns: repeat(3, 1fr); }
.rf-corp-grid--4 { grid-template-columns: repeat(4, 1fr); }

.rf-corp-grid--auto {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}

@media (max-width: 768px) {
    .rf-corp-grid--2,
    .rf-corp-grid--3,
    .rf-corp-grid--4 {
        grid-template-columns: 1fr;
    }
}

/* ============================================
   TYPOGRAPHY
   ============================================ */
.rf-corp-heading {
    font-family: var(--rf-corp-font-display);
    font-weight: var(--rf-corp-font-bold);
    line-height: var(--rf-corp-leading-tight);
    letter-spacing: var(--rf-corp-tracking-tight);
    color: var(--rf-corp-text);
}

.rf-corp-heading--1 { font-size: var(--rf-corp-text-5xl); }
.rf-corp-heading--2 { font-size: var(--rf-corp-text-4xl); }
.rf-corp-heading--3 { font-size: var(--rf-corp-text-3xl); }
.rf-corp-heading--4 { font-size: var(--rf-corp-text-2xl); }
.rf-corp-heading--5 { font-size: var(--rf-corp-text-xl); }
.rf-corp-heading--6 { font-size: var(--rf-corp-text-lg); }

.rf-corp-text {
    font-size: var(--rf-corp-text-base);
    line-height: var(--rf-corp-leading-relaxed);
    color: var(--rf-corp-text-secondary);
}

.rf-corp-text--sm { font-size: var(--rf-corp-text-sm); }
.rf-corp-text--lg { font-size: var(--rf-corp-text-lg); }
.rf-corp-text--muted { color: var(--rf-corp-text-muted); }
.rf-corp-text--primary { color: var(--rf-corp-primary); }
.rf-corp-text--accent { color: var(--rf-corp-accent); }

.rf-corp-link {
    color: var(--rf-corp-text-link);
    text-decoration: none;
    transition: color var(--rf-corp-transition-fast);
}

.rf-corp-link:hover {
    color: var(--rf-corp-text-link-hover);
    text-decoration: underline;
}

/* ============================================
   BUTTONS
   ============================================ */
.rf-corp-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--rf-corp-space-2);
    padding: var(--rf-corp-space-3) var(--rf-corp-space-5);
    font-family: var(--rf-corp-font-sans);
    font-size: var(--rf-corp-text-sm);
    font-weight: var(--rf-corp-font-semibold);
    line-height: 1;
    text-decoration: none;
    border: 1px solid transparent;
    border-radius: var(--rf-corp-radius-lg);
    cursor: pointer;
    transition: var(--rf-corp-transition-all);
    white-space: nowrap;
}

.rf-corp-btn:focus-visible {
    outline: 2px solid var(--rf-corp-border-focus);
    outline-offset: 2px;
}

.rf-corp-btn:disabled,
.rf-corp-btn--disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* Primary Button */
.rf-corp-btn--primary {
    background-color: var(--rf-corp-primary);
    color: var(--rf-corp-text-inverse);
    box-shadow: var(--rf-corp-shadow-sm);
}

.rf-corp-btn--primary:hover {
    background-color: var(--rf-corp-primary-hover);
    transform: translateY(-1px);
    box-shadow: var(--rf-corp-shadow-primary);
}

.rf-corp-btn--primary:active {
    transform: translateY(0);
    box-shadow: var(--rf-corp-shadow-xs);
}

/* Secondary Button */
.rf-corp-btn--secondary {
    background-color: var(--rf-corp-secondary);
    color: var(--rf-corp-text-inverse);
    box-shadow: var(--rf-corp-shadow-sm);
}

.rf-corp-btn--secondary:hover {
    background-color: var(--rf-corp-secondary-hover);
    transform: translateY(-1px);
    box-shadow: var(--rf-corp-shadow-md);
}

/* Accent Button */
.rf-corp-btn--accent {
    background-color: var(--rf-corp-accent);
    color: var(--rf-corp-primary-800);
    box-shadow: var(--rf-corp-shadow-sm);
}

.rf-corp-btn--accent:hover {
    background-color: var(--rf-corp-accent-hover);
    transform: translateY(-1px);
    box-shadow: var(--rf-corp-shadow-accent);
}

/* Outline Button */
.rf-corp-btn--outline {
    background-color: transparent;
    color: var(--rf-corp-primary);
    border-color: var(--rf-corp-border);
}

.rf-corp-btn--outline:hover {
    background-color: var(--rf-corp-primary-50);
    border-color: var(--rf-corp-primary);
    color: var(--rf-corp-primary);
}

/* Ghost Button */
.rf-corp-btn--ghost {
    background-color: transparent;
    color: var(--rf-corp-text-secondary);
    border-color: transparent;
}

.rf-corp-btn--ghost:hover {
    background-color: var(--rf-corp-neutral-100);
    color: var(--rf-corp-text);
}

/* Button Sizes */
.rf-corp-btn--sm {
    padding: var(--rf-corp-space-2) var(--rf-corp-space-3);
    font-size: var(--rf-corp-text-xs);
    border-radius: var(--rf-corp-radius-md);
}

.rf-corp-btn--lg {
    padding: var(--rf-corp-space-4) var(--rf-corp-space-8);
    font-size: var(--rf-corp-text-base);
    border-radius: var(--rf-corp-radius-xl);
}

.rf-corp-btn--xl {
    padding: var(--rf-corp-space-5) var(--rf-corp-space-10);
    font-size: var(--rf-corp-text-lg);
    font-weight: var(--rf-corp-font-bold);
    border-radius: var(--rf-corp-radius-2xl);
}

/* Icon Button */
.rf-corp-btn--icon {
    padding: var(--rf-corp-space-3);
    aspect-ratio: 1;
}

.rf-corp-btn--icon.rf-corp-btn--sm { padding: var(--rf-corp-space-2); }
.rf-corp-btn--icon.rf-corp-btn--lg { padding: var(--rf-corp-space-4); }

/* ============================================
   CARDS
   ============================================ */
.rf-corp-card {
    background: var(--rf-corp-surface);
    border: 1px solid var(--rf-corp-border-light);
    border-radius: var(--rf-corp-radius-xl);
    box-shadow: var(--rf-corp-shadow-sm);
    transition: var(--rf-corp-transition-all);
    overflow: hidden;
}

.rf-corp-card:hover {
    box-shadow: var(--rf-corp-shadow-lg);
    transform: translateY(-2px);
}

.rf-corp-card__header {
    padding: var(--rf-corp-space-6);
    border-bottom: 1px solid var(--rf-corp-border-light);
}

.rf-corp-card__body {
    padding: var(--rf-corp-space-6);
}

.rf-corp-card__footer {
    padding: var(--rf-corp-space-4) var(--rf-corp-space-6);
    background: var(--rf-corp-bg-muted);
    border-top: 1px solid var(--rf-corp-border-light);
}

/* Glass Card */
.rf-corp-card--glass {
    background: var(--rf-corp-glass-bg);
    backdrop-filter: var(--rf-corp-glass-blur);
    -webkit-backdrop-filter: var(--rf-corp-glass-blur);
    border-color: var(--rf-corp-glass-border);
    box-shadow: var(--rf-corp-glass-shadow);
}

/* Featured Card */
.rf-corp-card--featured {
    border-color: var(--rf-corp-primary-300);
    box-shadow: var(--rf-corp-shadow-primary);
}

.rf-corp-card--featured::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--rf-corp-primary), var(--rf-corp-accent));
}

/* Flat Card */
.rf-corp-card--flat {
    box-shadow: none;
    border-color: var(--rf-corp-border);
}

.rf-corp-card--flat:hover {
    box-shadow: var(--rf-corp-shadow-md);
}

/* ============================================
   FORM ELEMENTS
   ============================================ */

/* Input */
.rf-corp-input {
    display: block;
    width: 100%;
    padding: var(--rf-corp-space-3) var(--rf-corp-space-4);
    font-family: var(--rf-corp-font-sans);
    font-size: var(--rf-corp-text-base);
    line-height: var(--rf-corp-leading-normal);
    color: var(--rf-corp-text);
    background-color: var(--rf-corp-surface);
    border: 1px solid var(--rf-corp-border);
    border-radius: var(--rf-corp-radius-lg);
    transition: var(--rf-corp-transition-all);
}

.rf-corp-input:hover {
    border-color: var(--rf-corp-border-strong);
}

.rf-corp-input:focus {
    outline: none;
    border-color: var(--rf-corp-primary);
    box-shadow: 0 0 0 3px hsla(var(--rf-corp-primary-h), var(--rf-corp-primary-s), 50%, 0.15);
}

.rf-corp-input::placeholder {
    color: var(--rf-corp-text-muted);
}

.rf-corp-input:disabled {
    background-color: var(--rf-corp-neutral-100);
    opacity: 0.6;
    cursor: not-allowed;
}

.rf-corp-input--error {
    border-color: var(--rf-corp-danger);
}

.rf-corp-input--error:focus {
    box-shadow: 0 0 0 3px hsla(var(--rf-corp-danger-h), var(--rf-corp-danger-s), 45%, 0.15);
}

/* Textarea */
.rf-corp-textarea {
    min-height: 120px;
    resize: vertical;
}

/* Select */
.rf-corp-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right var(--rf-corp-space-3) center;
    background-size: 16px;
    padding-right: var(--rf-corp-space-10);
}

/* Label */
.rf-corp-label {
    display: block;
    margin-bottom: var(--rf-corp-space-2);
    font-size: var(--rf-corp-text-sm);
    font-weight: var(--rf-corp-font-medium);
    color: var(--rf-corp-text);
}

.rf-corp-label--required::after {
    content: ' *';
    color: var(--rf-corp-danger);
}

/* Helper Text */
.rf-corp-helper {
    margin-top: var(--rf-corp-space-1);
    font-size: var(--rf-corp-text-sm);
    color: var(--rf-corp-text-muted);
}

.rf-corp-helper--error {
    color: var(--rf-corp-danger);
}

/* Form Group */
.rf-corp-form-group {
    margin-bottom: var(--rf-corp-space-5);
}

/* Checkbox & Radio */
.rf-corp-checkbox,
.rf-corp-radio {
    display: inline-flex;
    align-items: center;
    gap: var(--rf-corp-space-2);
    cursor: pointer;
}

.rf-corp-checkbox input,
.rf-corp-radio input {
    width: 18px;
    height: 18px;
    accent-color: var(--rf-corp-primary);
    cursor: pointer;
}

/* ============================================
   BADGES
   ============================================ */
.rf-corp-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--rf-corp-space-1);
    padding: var(--rf-corp-space-1) var(--rf-corp-space-2-5);
    font-size: var(--rf-corp-text-xs);
    font-weight: var(--rf-corp-font-semibold);
    line-height: 1.4;
    text-transform: uppercase;
    letter-spacing: var(--rf-corp-tracking-wide);
    border-radius: var(--rf-corp-radius-full);
    white-space: nowrap;
}

.rf-corp-badge--primary {
    background-color: var(--rf-corp-primary-100);
    color: var(--rf-corp-primary-700);
}

.rf-corp-badge--secondary {
    background-color: var(--rf-corp-secondary-100);
    color: var(--rf-corp-secondary-700);
}

.rf-corp-badge--accent {
    background-color: var(--rf-corp-accent-100);
    color: var(--rf-corp-accent-700);
}

.rf-corp-badge--success {
    background-color: var(--rf-corp-success-light);
    color: var(--rf-corp-success-dark);
}

.rf-corp-badge--warning {
    background-color: var(--rf-corp-warning-light);
    color: var(--rf-corp-warning-dark);
}

.rf-corp-badge--danger {
    background-color: var(--rf-corp-danger-light);
    color: var(--rf-corp-danger-dark);
}

.rf-corp-badge--info {
    background-color: var(--rf-corp-info-light);
    color: var(--rf-corp-info-dark);
}

.rf-corp-badge--neutral {
    background-color: var(--rf-corp-neutral-200);
    color: var(--rf-corp-neutral-700);
}

/* Outline Badges */
.rf-corp-badge--outline {
    background-color: transparent;
    border: 1px solid currentColor;
}

/* ============================================
   TABLE
   ============================================ */
.rf-corp-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--rf-corp-text-sm);
}

.rf-corp-table th,
.rf-corp-table td {
    padding: var(--rf-corp-space-3) var(--rf-corp-space-4);
    text-align: left;
    border-bottom: 1px solid var(--rf-corp-border-light);
}

.rf-corp-table th {
    font-weight: var(--rf-corp-font-semibold);
    color: var(--rf-corp-text);
    background-color: var(--rf-corp-neutral-50);
}

.rf-corp-table tbody tr:hover {
    background-color: var(--rf-corp-surface-hover);
}

.rf-corp-table--striped tbody tr:nth-child(even) {
    background-color: var(--rf-corp-neutral-50);
}

.rf-corp-table--bordered th,
.rf-corp-table--bordered td {
    border: 1px solid var(--rf-corp-border);
}

/* ============================================
   ALERTS
   ============================================ */
.rf-corp-alert {
    display: flex;
    align-items: flex-start;
    gap: var(--rf-corp-space-3);
    padding: var(--rf-corp-space-4);
    border-radius: var(--rf-corp-radius-lg);
    border-left: 4px solid;
}

.rf-corp-alert--info {
    background-color: var(--rf-corp-info-light);
    border-left-color: var(--rf-corp-info);
    color: var(--rf-corp-info-dark);
}

.rf-corp-alert--success {
    background-color: var(--rf-corp-success-light);
    border-left-color: var(--rf-corp-success);
    color: var(--rf-corp-success-dark);
}

.rf-corp-alert--warning {
    background-color: var(--rf-corp-warning-light);
    border-left-color: var(--rf-corp-warning);
    color: var(--rf-corp-warning-dark);
}

.rf-corp-alert--danger {
    background-color: var(--rf-corp-danger-light);
    border-left-color: var(--rf-corp-danger);
    color: var(--rf-corp-danger-dark);
}

.rf-corp-alert__title {
    font-weight: var(--rf-corp-font-semibold);
    margin-bottom: var(--rf-corp-space-1);
}

.rf-corp-alert__message {
    font-size: var(--rf-corp-text-sm);
}

/* ============================================
   DIVIDER
   ============================================ */
.rf-corp-divider {
    height: 1px;
    width: 100%;
    background-color: var(--rf-corp-border);
    margin: var(--rf-corp-space-6) 0;
}

.rf-corp-divider--thick {
    height: 2px;
}

.rf-corp-divider--accent {
    background: linear-gradient(90deg, var(--rf-corp-primary), var(--rf-corp-accent));
}

/* ============================================
   AVATAR
   ============================================ */
.rf-corp-avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: var(--rf-corp-radius-full);
    background-color: var(--rf-corp-primary-100);
    color: var(--rf-corp-primary-700);
    font-weight: var(--rf-corp-font-semibold);
    font-size: var(--rf-corp-text-sm);
    overflow: hidden;
}

.rf-corp-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.rf-corp-avatar--sm { width: 32px; height: 32px; font-size: var(--rf-corp-text-xs); }
.rf-corp-avatar--lg { width: 56px; height: 56px; font-size: var(--rf-corp-text-lg); }
.rf-corp-avatar--xl { width: 80px; height: 80px; font-size: var(--rf-corp-text-2xl); }

/* ============================================
   SKELETON LOADER
   ============================================ */
.rf-corp-skeleton {
    background: linear-gradient(
        90deg,
        var(--rf-corp-neutral-200) 25%,
        var(--rf-corp-neutral-100) 50%,
        var(--rf-corp-neutral-200) 75%
    );
    background-size: 200% 100%;
    animation: rf-corp-skeleton-pulse 1.5s ease-in-out infinite;
    border-radius: var(--rf-corp-radius-md);
}

.rf-corp-skeleton--text {
    height: 1em;
    width: 100%;
}

.rf-corp-skeleton--heading {
    height: 1.5em;
    width: 60%;
}

.rf-corp-skeleton--avatar {
    width: 40px;
    height: 40px;
    border-radius: var(--rf-corp-radius-full);
}

.rf-corp-skeleton--card {
    height: 200px;
}

@keyframes rf-corp-skeleton-pulse {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* ============================================
   UTILITIES
   ============================================ */

/* Spacing */
.rf-corp-mt-0 { margin-top: 0; }
.rf-corp-mt-2 { margin-top: var(--rf-corp-space-2); }
.rf-corp-mt-4 { margin-top: var(--rf-corp-space-4); }
.rf-corp-mt-6 { margin-top: var(--rf-corp-space-6); }
.rf-corp-mt-8 { margin-top: var(--rf-corp-space-8); }

.rf-corp-mb-0 { margin-bottom: 0; }
.rf-corp-mb-2 { margin-bottom: var(--rf-corp-space-2); }
.rf-corp-mb-4 { margin-bottom: var(--rf-corp-space-4); }
.rf-corp-mb-6 { margin-bottom: var(--rf-corp-space-6); }
.rf-corp-mb-8 { margin-bottom: var(--rf-corp-space-8); }

.rf-corp-p-4 { padding: var(--rf-corp-space-4); }
.rf-corp-p-6 { padding: var(--rf-corp-space-6); }
.rf-corp-p-8 { padding: var(--rf-corp-space-8); }

/* Display */
.rf-corp-hidden { display: none; }
.rf-corp-block { display: block; }
.rf-corp-flex { display: flex; }
.rf-corp-grid { display: grid; }

/* Flexbox Utilities */
.rf-corp-flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

.rf-corp-flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.rf-corp-gap-2 { gap: var(--rf-corp-space-2); }
.rf-corp-gap-4 { gap: var(--rf-corp-space-4); }
.rf-corp-gap-6 { gap: var(--rf-corp-space-6); }

/* Text Alignment */
.rf-corp-text-left { text-align: left; }
.rf-corp-text-center { text-align: center; }
.rf-corp-text-right { text-align: right; }

/* Rounded Corners */
.rf-corp-rounded { border-radius: var(--rf-corp-radius-md); }
.rf-corp-rounded-lg { border-radius: var(--rf-corp-radius-lg); }
.rf-corp-rounded-xl { border-radius: var(--rf-corp-radius-xl); }
.rf-corp-rounded-full { border-radius: var(--rf-corp-radius-full); }

/* Shadows */
.rf-corp-shadow-sm { box-shadow: var(--rf-corp-shadow-sm); }
.rf-corp-shadow-md { box-shadow: var(--rf-corp-shadow-md); }
.rf-corp-shadow-lg { box-shadow: var(--rf-corp-shadow-lg); }
.rf-corp-shadow-xl { box-shadow: var(--rf-corp-shadow-xl); }

/* ============================================
   ANIMATIONS
   ============================================ */
.rf-corp-animate-fade-in {
    animation: rf-corp-fade-in var(--rf-corp-duration-300) var(--rf-corp-ease-out);
}

.rf-corp-animate-slide-up {
    animation: rf-corp-slide-up var(--rf-corp-duration-300) var(--rf-corp-ease-out);
}

.rf-corp-animate-scale-in {
    animation: rf-corp-scale-in var(--rf-corp-duration-200) var(--rf-corp-ease-bounce);
}

@keyframes rf-corp-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes rf-corp-slide-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes rf-corp-scale-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Initial state for GSAP animations (prevent FOUC) */
.rf-corp-animate-init {
    opacity: 0;
    will-change: transform, opacity;
}
